# kyowa-menu-history

協和メニュー食事履歴 - プライベートデータリポジトリ

## 📋 概要

このリポジトリは、管理者が記録した食事履歴と学習モデルを保存するためのプライベートリポジトリです。

## 📂 ディレクトリ構造

```
kyowa-menu-history/
├── data/
│   ├── history/           # 食事履歴JSONファイル
│   │   ├── 2026-01-20.json
│   │   ├── 2026-01-21.json
│   │   └── ...
│   └── models/            # 学習済みモデル
│       ├── user_preferences.json
│       ├── statistics.json
│       └── recommendations.json
├── scripts/               # 学習パイプライン
│   ├── train.js
│   └── aggregate.js
└── README.md
```

## 🔐 セキュリティ

⚠️ **このリポジトリはプライベートです**
- 食事履歴データは個人情報を含みます
- Personal Access Tokenは安全に管理してください
- `.env` ファイルをコミットしないでください

## 📝 データ形式

### 食事履歴 (`data/history/YYYY-MM-DD.json`)

```json
{
  "date": "2026-01-20",
  "eaten": ["肉豆腐", "ご飯（大）", "味噌汁"],
  "available": ["肉豆腐", "ご飯（大）", ...],
  "nutrition": {
    "total": {
      "エネルギー": 850,
      "たんぱく質": 35.5,
      "脂質": 22.3,
      "炭水化物": 95.2,
      "野菜重量": 180
    }
  },
  "timestamp": "2026-01-20T12:34:56.789Z"
}
```

## 🚀 使い方

### 1. データの追加
管理者ページ (`admin.html`) から自動的に保存されます。

### 2. 学習パイプラインの実行
```bash
# ローカルでNode.jsスクリプトを実行
cd scripts
node train.js
```

### 3. 結果の確認
`data/models/` 以下に学習結果が保存されます。

## 📦 連携

このリポジトリは `kyowa-menu-optimizer` (パブリックリポジトリ) と連携しています：

- **パブリックリポジトリ**: 一般公開ページ + 学習結果の表示
- **プライベートリポジトリ**: 食事履歴 + 学習モデル

## 🔧 メンテナンス

### バックアップ
定期的に履歴データをバックアップしてください。

### クリーンアップ
古いデータは定期的にアーカイブすることを推奨します。

---

**作成日**: 2026-01-20  
**管理者**: @1onotakanori-art
